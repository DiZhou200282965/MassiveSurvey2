<% include ../partials/header.ejs %>



<div class="container">
    <ng-view></ng-view>
</div> <!-- container -->
<script type="text/ng-template" id="/surveys.html">
    <div class="panel panel-default" ng-init="setUserName('<%= username %>')">
        <div class="panel-heading">
            <h1 class="panel-title"><%= title %></h1>
        </div> <!-- panel-heading -->
        <div class="panel-body">
            <h4><span class="badge">{{remainingSurveys()}}</span> Surveys of <span class="badge">{{totalSurveys()}}</span> remaining</h4>
            <h5>Search Surveys:</h5>
            <input type="text" ng-model="search" id="searchSurvey" placeholder="Survey to find" class="form-control">
            <ul class="list-group">
                <li class="list-group-item active">Current Surveys</li>
                <li ng-repeat="survey in surveys | filter: search | filter: {username: '<%= username %>'}" class="list-group-item">
                    <div class="btn-group">
                        <button type="button" ng-show="!editing[$index]" ng-click="edit($index)" class="btn btn-default "><i class="fa fa-edit"></i></button>
                    </div> <!-- btn-group -->

                    <span ng-show="editing[$index]">complete?</span>
                    <input type="checkbox" ng-model="survey.completed" ng-change="update($index)">
                    <span class="surveys">
                        <a ng-show="!editing[$index]" href="#/{{survey._id}}" class="completed-{{survey.completed}}">{{survey.name}}</a>
                    </span>
                </li>
            </ul>
            <h5>Create a Survey</h5>
            <!-- Survey Name -->
            <input type="text" ng-model="surveyName" id="surveyName" placeholder="Survey Name" class="form-control">

            <input type="text" ng-model="category" id="category" placeholder="Category" class="form-control">

            <button type="button" ng-click="save()" class="btn btn-primary">Create</button>
        </div> <!-- panel-body -->
    </div> <!-- panel panel-default -->


    <div class="col-xs-6">

        

        <h4>Two Option</h4>
        <!-- Add Two-Option Questions -->
        <div>
            <input type="text" ng-model="twOptionQuestion" placeholder="Enter the question here" />
        </div>
            <input type="text" ng-model="option1" placeholder="Enter option1 here" />
            <input type="text" ng-model="option2" placeholder="Enter option2 here" />

        <div>
            <button type="button" ng-click="AddTwoOptionQuestion()" class="btn btn-primary">Add</button>
        </div>

    </div>
    <div class="col-xs-6">
        <form>
            <fieldset>
                <legend ng-show="twOptArry.length">TWO OPTION</legend>
                <div ng-repeat="twOpt in twOptArry">
                    <label>{{twOpt.twOptionQuestion}}</label>
                    <div>
                        <input type="radio" ng-model="selection" ng-value="twOpt.option1">{{twOpt.option1}}<br>
                        <input type="radio" ng-model="selection" ng-value="twOpt.option2" >{{twOpt.option2}}
                    </div>
                    <div>
                        <button type="button" ng-click="twOptArry.splice($index, 1)" class="btn btn-primary">remove</button>
                    </div>                                                                      
                    <hr />
                </div>
            </fieldset>
        </form>
    </div>
</script>


<script type="text/ng-template" id="/surveyDetails.html">
    <div class="panel panel-default ">
        <div class="panel-heading">
            <h2 class="panel-title">{{ survey.name }}</h2>
        </div><!-- panel-heading -->
        <div class="panel-body">
            <h3>complete? <input type="checkbox" ng-model="survey.completed"></h3>
            <h3>Question:</h3>
            <textarea ng-model="survey.multipleChoice.question" class="form-control"></textarea>
            <br>
            <h3>Answers:</h3>
            <div ng-repeat="answer in survey.multipleChoice.answers">
                <textarea ng-model="survey.multipleChoice.answers[$index]" class="form-control"></textarea>
            </div>
            <div class="btn-group">
                <button type="button" ng-click="update()" class="btn btn-warning">update</button>
                <button type="button" ng-click="remove()" class="btn btn-danger">remove</button>
                <button type="button" ng-click="cancel()" class="btn btn-default">cancel</button>
            </div> <!-- btn-group -->
        </div> <!-- panel-body -->
    </div> <!-- panel panel-default -->
</script>
    <% include ../partials/boot.ejs %>
    <% include ../partials/nglib.ejs %>
    <% include ../partials/footer.ejs %>

